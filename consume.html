<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/xeicon@2.3.3/xeicon.min.css">
    <link rel="stylesheet" href="../css/consume.css">
    <link rel="stylesheet" href="../css/receipt.css">
    <link rel="stylesheet" href="css/module.css">

    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>
    <title>리치메이커 : 소비챌린지</title>
</head>

<body>

    <header>
        <nav class="nav container">
            <!-- navbar 삽입 -->
        </nav>
    </header>
    <section>
        <div class="main-container">
            <h1 style="font-weight: bold; font-size: larger; text-align: center;">소비 기록하기</h1>
            <button type="button" data-bs-toggle="modal" data-bs-target="#aiModal"
                style="border-radius:20px; float:right; margin:5px 15vw; padding:5px;">
                영수증 정보 불러오기
            </button>
            <div class="card">
                <h3 style="margin-bottom:20px; text-align:center; font-weight: bold;"> 날짜 선택하기 </h3>
                <div class="calendar-section">
                    <table class="Calendar">
                        <thead>
                            <tr>
                                <td id="prevCalendar" style="cursor:pointer;">&#60;</td>
                                <td colspan="5">
                                    <span id="calYear"></span>년
                                    <span id="calMonth"></span>월
                                </td>
                                <td id="nextCalendar" style="cursor:pointer;">&#62;</td>
                            </tr>
                            <tr>
                                <td>일</td>
                                <td>월</td>
                                <td>화</td>
                                <td>수</td>
                                <td>목</td>
                                <td>금</td>
                                <td>토</td>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
                <div class="consume-info">
                    <h3 style="text-align:center">소비 분류</h3>
                    <p id="consume-style"> </p>
                </div>
                <div class="consume-info">
                    <p id="placename">매장 이름(제품) </p>
                </div>
                <div class="consume-info">
                    <p id="placewhere">매장 주소 </p>
                </div>
                <div class="consume-info">
                    <p id="amount">수량 </p>
                </div>
                <div class="consume-info">
                    <p id="cost">지출 금액 단가 </p>
                </div>
                <div style="padding:20px;">
                    <button type="button" id="posting" class="consumebutton">저장</button>
                    <button type="button" class="consumebutton" onclick="history.back()">뒤로가기</button>
                </div>
            </div>
    </section>
    <!-- 영수증 모달 -->
    <div class="modal fade" id="aiModal" tabindex="-1" aria-labelledby="aiModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="right_box">
                    <h1>AI 영수증 인식</h1>
                    <div class="imgbox">
                        <img id="preview" class="resized-img"
                            src="https://png.pngtree.com/png-clipart/20220601/original/pngtree-printed-purchase-bill-receipt-paper-png-image_7828387.png" />
                    </div>


                    <div class="input-group">
                        <input type="file" id="image" onchange="readURL(this);" class="form-control">
                        <button type="button" id="aiCheck">영수증 인식하기</button>
                    </div>
                    <div class="receipt-text"></div>
                    <div class="button_group">
                        <div class="button_box">
                            <button type="button" class="btn btn-outline-secondary custom-button"
                                id="btnAiAdd">확인</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer>
    </footer>
    <!-- script -->
    <script>
        function handleBtn() {
            document.querySelector(".nav-drop-menu").classList.toggle("on");
            document.querySelector(".menu_btn").classList.toggle("on");
        }

        function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function (e) {
                    document.getElementById("preview").src = e.target.result;
                };
                reader.readAsDataURL(input.files[0]);
            } else {
                document.getElementById("preview").src = "";
            }
        }
    </script>
    <script src="js/nav.js" type="module"></script>
    <script type="module" src="/js/conf.js"></script>
    <script type="module" src="/js/api.js"></script>
    <script type="module" src="/js/consume.js"></script>
    <script src="js/receipt.js"></script>
    <!-- script end -->
    <script>
        function handleBtn() {
            document.querySelector(".nav-drop-menu").classList.toggle("on");
            document.querySelector(".menu_btn").classList.toggle("on");
        }
    </script>
</body>

</html>